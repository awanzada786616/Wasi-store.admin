<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>Admin Panel</title>
</head>
<body>
Â  <h2>ðŸ“‹ Wasi Orders - Admin Panel</h2>
Â  <div id="ordersList"></div>

Â  <script type="module" src="firebase.js"></script>
Â  <script type="module">
Â  Â  const db = window.firebaseDB;
Â  Â  const ref = window.firebaseRef;
Â  Â  const onValue = window.firebaseOnValue;
Â  Â  const update = window.firebaseUpdate;

Â  Â  const ordersList = document.getElementById('ordersList');

Â  Â  onValue(ref(db, 'orders'), (snapshot) => {
Â  Â  Â  ordersList.innerHTML = '';
Â  Â  Â  snapshot.forEach(order => {
Â  Â  Â  Â  const data = order.val();
Â  Â  Â  Â  const key = order.key;

Â  Â  Â  Â  const div = document.createElement('div');
Â  Â  Â  Â  div.style.border = '1px solid gray';
Â  Â  Â  Â  div.style.margin = '10px';
Â  Â  Â  Â  div.style.padding = '10px';

Â  Â  Â  Â  div.innerHTML = `
Â  Â  Â  Â  Â  <strong>Name:</strong> ${data.name}<br>
Â  Â  Â  Â  Â  <strong>Phone:</strong> ${data.phone}<br>
Â  Â  Â  Â  Â  <strong>City:</strong> ${data.city}<br>
Â  Â  Â  Â  Â  <strong>Address:</strong> ${data.address}<br>
Â  Â  Â  Â  Â  <strong>Status:</strong> ${data.status}<br><br>
Â  Â  Â  Â  Â  <a href="https://wa.me/92${data.phone.replace(/^0/, '')}" target="_blank">ðŸ“ž Contact on WhatsApp</a><br><br>
Â  Â  Â  Â  Â  <button onclick="markDone('${key}')">âœ… Mark as Completed</button>
Â  Â  Â  Â  `;
Â  Â  Â  Â  ordersList.appendChild(div);
Â  Â  Â  });
Â  Â  });

Â  Â  window.markDone = async function(key) {
Â  Â  Â  await update(ref(db, 'orders/' + key), { status: 'completed' });
Â  Â  };
Â  </script>
</body>
</html>
